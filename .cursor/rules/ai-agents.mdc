---
description: Правила работы с AI агентами и промптами
globs: ["prompts/**/*.md"]
alwaysApply: false
---

# Правила работы с AI агентами

## Структура промптов

Каждый промпт для агента должен содержать:
1. **Назначение агента** - что он делает
2. **Входные данные** - что принимает на вход
3. **Выходные данные** - что возвращает
4. **Ограничения** - что не должен делать
5. **Примеры** - конкретные примеры использования

## Ответственность агентов

- Каждый агент должен иметь четко определенную зону ответственности
- Агенты не должны дублировать функциональность друг друга
- Критические решения должны проходить через несколько агентов или ручную проверку

## Верификация результатов

- Все результаты работы агентов должны быть верифицируемыми
- Агенты не должны принимать критические бизнес-решения без дополнительной проверки
- Особенно в областях: финансы, право, политики площадок

## Промпты

- Промпты должны быть четкими и структурированными
- Используйте примеры для лучшего понимания задачи
- Ограничивайте длину промптов для экономии токенов
- Версионируйте промпты при значительных изменениях

## Интеграция с системой

- Агенты должны логировать свою работу в Supabase
- Критические действия должны отправлять уведомления в Telegram
- Результаты должны быть доступны через API или базу данных

## Пример структуры промпта

```markdown
# Compliance-Agent

## Назначение
Валидация листингов перед публикацией на платформах.

## Входные данные
- Данные листинга (название, описание, цена, категория)
- Платформа назначения (eBay, Shopify)

## Выходные данные
- Статус валидации (passed/failed)
- Список найденных проблем (если есть)
- Рекомендации по исправлению

## Ограничения
- Не должен изменять данные листинга
- Не должен публиковать листинг автоматически
- Должен только проверять соответствие требованиям

## Примеры
[Конкретные примеры валидации]
```

## Оптимизация

- Используйте кэширование для повторяющихся запросов
- Группируйте похожие задачи для экономии токенов
- Мониторьте использование токенов и оптимизируйте промпты
